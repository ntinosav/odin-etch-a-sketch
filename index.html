<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="stylesheet" href="style.css">
    <title>Etch-A-Sketch</title>
</head>
<body>

    <button id="size">Change Size</button>
    <div id="grid"></div>


    <script>
        const grid = document.getElementById("grid");
        const sizeButton = document.querySelector("#size");

        function createGrid(n) {
            grid.innerHTML = "";
            let dim = 100/n;
            for (let i = 0; i < n ;i++) {
                let row = document.createElement("div");
                row.classList.add("row");
                row.style.height = dim + "%";
                grid.appendChild(row);
                for (let j = 0; j < n; j++) {
                    let square = document.createElement("div");
                    square.classList.add("square");
                    square.style.width = dim + "%";
                    row.appendChild(square);
                }    
            }

            // Make squares clickable
            let squares = document.querySelectorAll(".square");
            squares.forEach((sq) => {
                sq.addEventListener("click", () => {
                    if (sq.classList.contains("clicked")) {
                        // sq.classList.remove("clicked");
                        
                    }else{
                        let red = Math.floor(Math.random()*256);
                        let green = Math.floor(Math.random()*256);
                        let blue = Math.floor(Math.random()*256);
                        let r_color = "rgb(" + red +"," + green + "," + blue + ")";
                        console.log("rgb(" + red +"," + green + "," + blue + ")");
                        sq.style.backgroundColor = r_color;
                        sq.classList.add("clicked");
                    }
                    
                });
            });

        }

        function changeSize() {
            let sq = prompt("Enter how many squares you want ? (maximum 100)");
            return sq;
        }

        sizeButton.addEventListener("click", () => createGrid(changeSize()));



        createGrid(6);
    </script>

</body>
</html>